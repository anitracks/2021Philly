\label{index_md_C__Users_SMcneil_Consultant_CLSM_2021Philly_README}%
\Hypertarget{index_md_C__Users_SMcneil_Consultant_CLSM_2021Philly_README}%
This is a collection of code for analyzing the Philly data. The doxygen generated html documentation can be found at \href{https://anitracks.github.io/2021Philly/index.html}{\texttt{ https\+://anitracks.\+github.\+io/2021\+Philly/index.\+html}}

Written by Seth Mc\+Neill ~\newline
 Managed by David Mc\+Neill and Stacy Butler\hypertarget{index_autotoc_md1}{}\doxysection{Setting Up the Environment}\label{index_autotoc_md1}
This project was developed using Python 3.\+9.\+1 using a virtual environment. The list of packages installed to develop this project is listed in {\ttfamily requirements.\+txt}. Not all the packages in {\ttfamily requirements.\+txt} are used in the final version of this code. Once the correct version of Python has been installed, the virtual environment can be setup as follows in the directory you have cloned this project into\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{python -\/m venv .venv}
\DoxyCodeLine{.\(\backslash\).venv\(\backslash\)Scripts\(\backslash\)activate}
\DoxyCodeLine{pip install -\/r requirements.txt}

\end{DoxyCode}
\hypertarget{index_autotoc_md2}{}\doxysection{Usage}\label{index_autotoc_md2}
The scripts should be run in the order listed here. The data used as input is a csv file created by David Mc\+Neill based on the raw data received from the courts.\hypertarget{index_autotoc_md3}{}\doxysubsection{clean\+Count Outcomes.\+py}\label{index_autotoc_md3}
Cleaning and counting the most occurring outcomes is done as follows using the \mbox{\hyperlink{cleanCountOutcomes_8py}{clean\+Count\+Outcomes.\+py}} script\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{python .\(\backslash\)src\(\backslash\)cleanCountOutcomes.py ..\(\backslash\)data\(\backslash\)MC\_specialreport\_limiteddaterange\_Nov6.csv}

\end{DoxyCode}
\hypertarget{index_autotoc_md4}{}\doxysubsection{clean\+Plaintiffs.\+py -\/ Creating the Comparison Matrix}\label{index_autotoc_md4}
Running \mbox{\hyperlink{cleanPlaintiffs_8py}{clean\+Plaintiffs.\+py}} as shown below will create the comparison matrix pickle file. This may take 9 minutes to run. It uses the \href{https://github.com/jamesturk/jellyfish}{\texttt{ jellyfish}} {\ttfamily jaro\+\_\+similarity} function to calculate the similarity between plaintiff names. 
\begin{DoxyCode}{0}
\DoxyCodeLine{python .\(\backslash\)src\(\backslash\)cleanPlaintiffs.py ..\(\backslash\)data\(\backslash\)MC\_specialreport\_limiteddaterange\_Nov6.csv -\/s}

\end{DoxyCode}
\hypertarget{index_autotoc_md5}{}\doxysubsection{dbscan\+Test.\+py}\label{index_autotoc_md5}
This creates a figure (as a saved .png file) of the number of names clustered vs epsilon using the DBSCAN algorithm on the similarity matrix created in \mbox{\hyperlink{cleanPlaintiffs_8py}{clean\+Plaintiffs.\+py}}. The figure is used to decide what value of epsilon to use when calling \mbox{\hyperlink{cleanPlaintiffs_8py}{clean\+Plaintiffs.\+py}} to do the plaintiff clustering below. We chose an epsilon value of 0.\+1 based on the figure. 
\begin{DoxyCode}{0}
\DoxyCodeLine{python src\(\backslash\)dbscanTest.py 20220510152542-\/comparisonMatrix.pkl}

\end{DoxyCode}
\hypertarget{index_autotoc_md6}{}\doxysubsection{clean\+Plaintiffs.\+py -\/ Plaintiff vs Outcome Matrix}\label{index_autotoc_md6}
The following is an example of running the \mbox{\hyperlink{cleanPlaintiffs_8py}{clean\+Plaintiffs.\+py}} script from inside the root folder to calculate the compared\+PO.\+csv (plaintiffs vs outcomes matrix) file which takes about 41 seconds. It requires a camparison matrix pickle file to have already been created. 
\begin{DoxyCode}{0}
\DoxyCodeLine{python .\(\backslash\)src\(\backslash\)cleanPlaintiffs.py ..\(\backslash\)data\(\backslash\)MC\_specialreport\_limiteddaterange\_Nov6.csv -\/p .\(\backslash\)src\(\backslash\)20215121490-\/comparisonMatrix.pkl -\/e 0.10}

\end{DoxyCode}
\hypertarget{index_autotoc_md7}{}\doxysubsection{Updating Documentation Using Doxygen}\label{index_autotoc_md7}
The {\ttfamily docs} folder has a separate Git repository for the documentation. To update the documentation, {\ttfamily cd} into the {\ttfamily docs} folder. Inside that folder run\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{doxygen ..\(\backslash\)doxygen\(\backslash\)Doxygen.in}

\end{DoxyCode}
 This will create all the new documentation. To commit everything including the new/deleted files run\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{git add -\/A}

\end{DoxyCode}
 Now it is ready to {\ttfamily commit} and {\ttfamily push}.\hypertarget{index_autotoc_md8}{}\doxysection{Progress}\label{index_autotoc_md8}
\hypertarget{index_autotoc_md9}{}\doxysubsection{2021 March 18}\label{index_autotoc_md9}
The code in \mbox{\hyperlink{cleanCountOutcomes_8py}{clean\+Count\+Outcomes.\+py}} reads in a csv file from the Philidelphia court system, cleans, collates, and prints out the outcomes column.\hypertarget{index_autotoc_md10}{}\doxysubsubsection{Example output}\label{index_autotoc_md10}

\begin{DoxyCode}{0}
\DoxyCodeLine{Outcome Subcategories                                              Count}
\DoxyCodeLine{Judgment for Plaintiff by Default                                  40711}
\DoxyCodeLine{No Service, Dismissed without Prejudice                            28300}
\DoxyCodeLine{Continued To                                                       10414}
\DoxyCodeLine{Withdrawn without Prejudice                                         9647}
\DoxyCodeLine{Blank or NULL                                                       9236}
\DoxyCodeLine{Settled, Discontinued and Ended                                     5015}
\DoxyCodeLine{Administrative Continuance To                                       4694}
\DoxyCodeLine{Continued By Subpoena To                                            4511}
\DoxyCodeLine{Courtroom Transferred To                                            1613}
\DoxyCodeLine{Judgment for Plaintiff                                              1128}
\DoxyCodeLine{Judgment for Defendant                                               580}
\DoxyCodeLine{Judgment for Defendant by Default                                    308}
\DoxyCodeLine{Judgment Satisfied                                                   198}
\DoxyCodeLine{Held Under Advisement                                                143}
\DoxyCodeLine{Judgment for Plaintiff as Defendant on Counterclaim                  143}
\DoxyCodeLine{Deferred due to Bankruptcy filing                                    126}
\DoxyCodeLine{Withdrawn with Prejudice                                              98}
\DoxyCodeLine{Continuance Request Denied                                            47}
\DoxyCodeLine{Judgment for Defendant as Plaintiff on Counterclaim                   46}
\DoxyCodeLine{Transfer to Court of Common Pleas                                     42}
\DoxyCodeLine{Judgment by Agreement for money and/or possession                     27}
\DoxyCodeLine{Judgment by Agreement                                                 19}
\DoxyCodeLine{Withdrawn, Lack of Jurisdiction                                       13}
\DoxyCodeLine{Judgment for Defendant as Plaintiff on Counter Claim                  12}
\DoxyCodeLine{Adjudication Deferred                                                  9}
\DoxyCodeLine{Transfer to another jurisdiction                                       8}
\DoxyCodeLine{Petition/Affidavit Granted                                             8}
\DoxyCodeLine{Judgment for Plaintiff as Defendant on Counter Claim by Default        5}
\DoxyCodeLine{Withdrawn, Lack of Venue                                               3}
\DoxyCodeLine{Judgment for Defendant as Plaintiff on Counter Claim by Default        3}
\DoxyCodeLine{Petition / Continued To                                                2}
\DoxyCodeLine{Petition / Held Under Advisement                                       1}
\DoxyCodeLine{Petition/Affidavit Denied                                              1}
\DoxyCodeLine{Resolved by Criminal Mediation Agreement                               1}
\DoxyCodeLine{Defendant Administrative Continuance Request Denied                    1}
\DoxyCodeLine{Additional Information:                                                1}
\DoxyCodeLine{Discharged Bankruptcy Debt                                             1}
\DoxyCodeLine{Judgment for Plaintiff as Defendant on Counterclaim by Default         1}
\DoxyCodeLine{Petition/Affidavit Withdrawn Without Prejudice                         1}

\end{DoxyCode}
 